# é€šç”¨å‘½ä»¤æ„å»ºç³»ç»Ÿæ¼”ç¤º

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

æˆ‘å·²ç»æˆåŠŸå‡çº§äº†å‘½ä»¤æ‰‹å†Œé¡¹ç›®ï¼Œå®ç°äº†ä¸€ä¸ªå…¨æ–°çš„é€šç”¨å‘½ä»¤æ„å»ºç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿä¸¥æ ¼æ‰§è¡Œæ–°çš„å‘½ä»¤ç»“æ„è§„åˆ™ï¼Œä¸è€ƒè™‘å‘åå…¼å®¹æ€§ï¼Œæä¾›äº†å¼ºå¤§è€Œçµæ´»çš„å‘½ä»¤åˆ›å»ºå’Œç®¡ç†èƒ½åŠ›ã€‚

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### 1. é€šç”¨å‘½ä»¤ç»“æ„ (UniversalCommandStructure)

```javascript
const commandStructure = {
  // å…ƒæ•°æ®
  metadata: {
    id: String,                    // å”¯ä¸€æ ‡è¯†
    name: String,                  // å‘½ä»¤æ˜¾ç¤ºåç§°
    description: String,           // å‘½ä»¤æè¿°
    version: String,               // ç‰ˆæœ¬å·
    category: String,              // æ‰€å±åˆ†ç±»
    tags: Array<String>,           // æ ‡ç­¾
    author: String,                // åˆ›å»ºè€…
    created: Date,                 // åˆ›å»ºæ—¶é—´
    updated: Date                  // æ›´æ–°æ—¶é—´
  },

  // å‘½ä»¤æ„æˆè¦ç´ 
  command: {
    // ä¸»å‘½ä»¤ï¼ˆå¿…é€‰ï¼‰
    mainCommand: {
      name: String,                // ä¸»å‘½ä»¤å (git, docker, npm)
      type: CommandType,           // å‘½ä»¤ç±»å‹
      validation: ValidationRule   // éªŒè¯è§„åˆ™
    },

    // å­å‘½ä»¤ï¼ˆå¯é€‰ï¼‰
    subcommands: Array<{
      name: String,                // å­å‘½ä»¤å (add, commit, push)
      type: ParameterType,         // REQUIRED | OPTIONAL | DISABLED
      description: String,         // æè¿°
      aliases: Array<String>,      // åˆ«å
      group: String,               // åˆ†ç»„
      validation: ValidationRule,  // éªŒè¯è§„åˆ™
      conditional: ConditionalRule // æ¡ä»¶è§„åˆ™
    }>,

    // å‚æ•°ï¼ˆä½ç½®å‚æ•°ï¼‰
    parameters: Array<{
      name: String,                // å‚æ•°å
      type: ParameterType,         // REQUIRED | OPTIONAL | DISABLED
      dataType: DataType,          // æ•°æ®ç±»å‹
      description: String,         // æè¿°
      placeholder: String,         // å ä½ç¬¦
      defaultValue: Any,           // é»˜è®¤å€¼
      validation: ValidationRule,  // éªŒè¯è§„åˆ™
      position: Number,            // ä½ç½®ç´¢å¼•
      repeatable: Boolean,         // æ˜¯å¦å¯é‡å¤
      conditional: ConditionalRule // æ¡ä»¶è§„åˆ™
    }>,

    // é€‰é¡¹ï¼ˆå¼€å…³å’Œé…ç½®ï¼‰
    options: Array<{
      name: String,                // é€‰é¡¹å
      shortFlag: String,           // çŸ­æ ‡å¿— (-v)
      longFlag: String,            // é•¿æ ‡å¿— (--verbose)
      type: ParameterType,         // REQUIRED | OPTIONAL | DISABLED
      description: String,         // æè¿°
      
      // é€‰é¡¹å‚æ•°
      parameter: {
        required: Boolean,         // æ˜¯å¦éœ€è¦å‚æ•°
        dataType: DataType,        // å‚æ•°æ•°æ®ç±»å‹
        defaultValue: Any,         // é»˜è®¤å€¼
        validation: ValidationRule // éªŒè¯è§„åˆ™
      },
      
      // é€‰é¡¹ç‰¹æ€§
      multiple: Boolean,           // æ˜¯å¦å¯å¤šæ¬¡ä½¿ç”¨
      conflicts: Array<String>,    // å†²çªé€‰é¡¹
      requires: Array<String>,     // ä¾èµ–é€‰é¡¹
      group: String,               // é€‰é¡¹ç»„
      separator: String,           // å‚æ•°åˆ†éš”ç¬¦ (=, space)
      conditional: ConditionalRule // æ¡ä»¶è§„åˆ™
    }>
  },

  // æ„å»ºé…ç½®
  buildConfig: {
    // è¾“å‡ºæ ¼å¼
    outputFormat: {
      template: String,            // å‘½ä»¤æ¨¡æ¿
      escaping: EscapingRule,      // è½¬ä¹‰è§„åˆ™
      quoting: QuotingRule,        // å¼•å·è§„åˆ™
      platform: PlatformRule      // å¹³å°ç‰¹å®šè§„åˆ™
    },

    // éªŒè¯è§„åˆ™
    validation: {
      syntax: Boolean,             // è¯­æ³•éªŒè¯
      semantics: Boolean,          // è¯­ä¹‰éªŒè¯
      safety: Boolean,             // å®‰å…¨éªŒè¯
      compatibility: Boolean       // å…¼å®¹æ€§éªŒè¯
    },

    // ç”Ÿæˆé€‰é¡¹
    generation: {
      includeComments: Boolean,    // åŒ…å«æ³¨é‡Š
      formatStyle: FormatStyle,    // æ ¼å¼åŒ–æ ·å¼
      verbosity: VerbosityLevel,   // è¯¦ç»†ç¨‹åº¦
      dryRun: Boolean             // å¹²è¿è¡Œæ¨¡å¼
    }
  }
}
```

### 2. å‚æ•°ç±»å‹ç³»ç»Ÿ

ä¸¥æ ¼æ‰§è¡Œä¸‰ç§å‚æ•°ç±»å‹è§„èŒƒï¼š

```javascript
const ParameterType = {
  REQUIRED: 'REQUIRED',          // å¿…é€‰å‚æ•°
  OPTIONAL: 'OPTIONAL',          // å¯é€‰å‚æ•°
  DISABLED: 'DISABLED'           // ä¸å¯é€‰å‚æ•°ï¼ˆç¦æ­¢ä½¿ç”¨ï¼‰
}
```

### 3. æ•°æ®ç±»å‹æ”¯æŒ

```javascript
const DataType = {
  STRING: 'string',              // å­—ç¬¦ä¸²
  NUMBER: 'number',              // æ•°å­—
  INTEGER: 'integer',            // æ•´æ•°
  FLOAT: 'float',                // æµ®ç‚¹æ•°
  BOOLEAN: 'boolean',            // å¸ƒå°”å€¼
  FILE: 'file',                  // æ–‡ä»¶è·¯å¾„
  DIRECTORY: 'directory',        // ç›®å½•è·¯å¾„
  URL: 'url',                    // URLåœ°å€
  EMAIL: 'email',                // é‚®ç®±
  ENUM: 'enum',                  // æšä¸¾å€¼
  REGEX: 'regex',                // æ­£åˆ™è¡¨è¾¾å¼
  JSON: 'json',                  // JSONå¯¹è±¡
  ARRAY: 'array'                 // æ•°ç»„
}
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### 1. UniversalCommandBuilder ç»„ä»¶

å¯è§†åŒ–çš„å‘½ä»¤æ„å»ºç•Œé¢ï¼Œæä¾›ï¼š

- **æ¨¡å¼é€‰æ‹©**: ç®€å•æ¨¡å¼ã€é«˜çº§æ¨¡å¼ã€é€šç”¨æ„å»ºå™¨
- **åŸºç¡€ä¿¡æ¯é…ç½®**: å‘½ä»¤åç§°ã€ä¸»å‘½ä»¤ã€æè¿°ã€åˆ†ç±»ã€æ ‡ç­¾
- **å­å‘½ä»¤ç®¡ç†**: æ·»åŠ ã€åˆ é™¤ã€ç¼–è¾‘å­å‘½ä»¤ï¼Œæ”¯æŒåˆ«åå’Œç±»å‹é…ç½®
- **é€‰é¡¹ç®¡ç†**: å®Œæ•´çš„é€‰é¡¹é…ç½®ï¼ŒåŒ…æ‹¬çŸ­æ ‡å¿—ã€é•¿æ ‡å¿—ã€å‚æ•°è¦æ±‚ã€å†²çªæ£€æµ‹
- **å‚æ•°ç®¡ç†**: ä½ç½®å‚æ•°é…ç½®ï¼Œæ”¯æŒæ•°æ®ç±»å‹ã€éªŒè¯è§„åˆ™ã€é‡å¤æ€§
- **å®æ—¶é¢„è§ˆ**: å‘½ä»¤æ„å»ºçš„å®æ—¶é¢„è§ˆå’ŒéªŒè¯
- **æ¨¡æ¿åº“**: é¢„ç½®çš„Gitã€Dockerã€NPMç­‰å‘½ä»¤æ¨¡æ¿

### 2. CommandPreview ç»„ä»¶

ä¸“ä¸šçš„å‘½ä»¤é¢„è§ˆå’Œæµ‹è¯•ç•Œé¢ï¼š

- **ç»ˆç«¯æ ·å¼æ˜¾ç¤º**: æ¨¡æ‹ŸçœŸå®ç»ˆç«¯ç¯å¢ƒ
- **å‘½ä»¤æµ‹è¯•**: è¯­æ³•æ£€æŸ¥å’Œå‚æ•°éªŒè¯
- **å‘½ä»¤åˆ†æ**: å¤æ‚åº¦åˆ†æå’Œå®‰å…¨è¯„ä¼°
- **å‚æ•°åˆ†æ**: è¯¦ç»†çš„å‚æ•°ç»“æ„å±•ç¤º
- **ä½¿ç”¨ç¤ºä¾‹**: è‡ªåŠ¨ç”Ÿæˆçš„å‘½ä»¤ä½¿ç”¨ç¤ºä¾‹
- **éªŒè¯ç»“æœ**: å®Œæ•´çš„éªŒè¯é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯

### 3. å‡çº§åçš„ CommandAddModal

é›†æˆäº†ä¸‰ç§åˆ›å»ºæ¨¡å¼ï¼š

- **ç®€å•æ¨¡å¼**: ä¼ ç»Ÿçš„è¡¨å•æ¨¡å¼ï¼ˆä¿ç•™ï¼‰
- **é«˜çº§æ¨¡å¼**: å¢å¼ºçš„è¡¨å•æ¨¡å¼ï¼ˆä¿ç•™ï¼‰
- **é€šç”¨æ„å»ºå™¨**: å…¨æ–°çš„å¯è§†åŒ–æ„å»ºå™¨

## ğŸ¨ ç•Œé¢ç‰¹æ€§

### 1. ç°ä»£åŒ–è®¾è®¡
- å“åº”å¼å¸ƒå±€ï¼Œæ”¯æŒå„ç§å±å¹•å°ºå¯¸
- Element Plus ç»„ä»¶åº“ï¼Œç¡®ä¿ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ
- æ·±è‰²/æµ…è‰²ä¸»é¢˜é€‚é…
- å¹³æ»‘çš„åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ

### 2. äº¤äº’ä½“éªŒ
- å®æ—¶éªŒè¯å’Œé”™è¯¯æç¤º
- æ™ºèƒ½æç¤ºå’Œè‡ªåŠ¨å®Œæˆ
- æ‹–æ‹½æ’åºå’Œæ‰¹é‡æ“ä½œ
- é”®ç›˜å¿«æ·é”®æ”¯æŒ

### 3. å¯è§†åŒ–å…ƒç´ 
- å‘½ä»¤ç»“æ„å›¾
- å‚æ•°å…³ç³»å›¾
- éªŒè¯çŠ¶æ€æŒ‡ç¤ºå™¨
- è¿›åº¦æ¡å’ŒåŠ è½½çŠ¶æ€

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### 1. æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ universalCommandBuilder.js     # æ ¸å¿ƒæ„å»ºé€»è¾‘
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ UniversalCommandBuilder.vue    # å¯è§†åŒ–æ„å»ºå™¨
â”‚   â”œâ”€â”€ CommandPreview.vue             # å‘½ä»¤é¢„è§ˆç»„ä»¶
â”‚   â””â”€â”€ CommandAddModal.vue            # å‡çº§åçš„æ·»åŠ æ¨¡æ€æ¡†
â””â”€â”€ stores/
    â””â”€â”€ command.js                      # å‡çº§åçš„çŠ¶æ€ç®¡ç†
```

### 2. æ ¸å¿ƒç±»

```javascript
// é€šç”¨å‘½ä»¤ç»“æ„
class UniversalCommandStructure {
  constructor(config = {})
  addSubcommand(subcommand)
  addParameter(parameter)
  addOption(option)
  toCommandData()
  generateCommandTemplate()
  generateUsageExample()
}

// é€šç”¨å‘½ä»¤æ„å»ºå™¨
class UniversalCommandBuilder {
  constructor(structure)
  selectSubcommand(name)
  selectOption(name, value)
  setParameter(name, value)
  build()
  validate()
  getValidationResult()
  getAvailableOptions()
  getAvailableSubcommands()
  getParameterDefinitions()
}

// å‘½ä»¤æ¨¡æ¿å·¥å‚
class CommandTemplateFactory {
  static createGitTemplate()
  static createDockerTemplate()
  static createNpmTemplate()
}
```

### 3. Store é›†æˆ

å‡çº§åçš„ command store æä¾›ï¼š

```javascript
// é€šç”¨å‘½ä»¤æ„å»ºå™¨æ–¹æ³•
createUniversalCommand(config)
convertToUniversalStructure(command)
buildUniversalCommand(structure, selections)
getCommandTemplate(type)
addUniversalCommand(structure)
```

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### 1. åˆ›å»º Git å‘½ä»¤

```javascript
// ä»æ¨¡æ¿åˆ›å»º
const gitTemplate = CommandTemplateFactory.createGitTemplate()

// åˆ›å»ºæ„å»ºå™¨
const builder = new UniversalCommandBuilder(gitTemplate)

// æ„å»ºå‘½ä»¤: git add . && git commit -m "Initial commit"
const command = builder
  .selectSubcommand('add')
  .setParameter('files', ['.'])
  .selectOption('all')
  .build()

console.log(command) // "git add --all ."
```

### 2. åˆ›å»º Docker å‘½ä»¤

```javascript
// åˆ›å»ºDockeræ¨¡æ¿
const dockerTemplate = CommandTemplateFactory.createDockerTemplate()
const builder = new UniversalCommandBuilder(dockerTemplate)

// æ„å»ºå‘½ä»¤: docker run -d -p 8080:80 nginx
const command = builder
  .selectSubcommand('run')
  .selectOption('detach')
  .selectOption('port', '8080:80')
  .setParameter('image', 'nginx')
  .build()

console.log(command) // "docker run --detach --port 8080:80 nginx"
```

### 3. è‡ªå®šä¹‰å‘½ä»¤ç»“æ„

```javascript
// åˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤
const customCommand = new UniversalCommandStructure({
  name: 'è‡ªå®šä¹‰éƒ¨ç½²å‘½ä»¤',
  description: 'åº”ç”¨éƒ¨ç½²è‡ªåŠ¨åŒ–å‘½ä»¤',
  mainCommand: 'deploy'
})

// æ·»åŠ å­å‘½ä»¤
customCommand.addSubcommand({
  name: 'start',
  type: ParameterType.REQUIRED,
  description: 'å¯åŠ¨éƒ¨ç½²'
})

// æ·»åŠ é€‰é¡¹
customCommand.addOption({
  name: 'environment',
  shortFlag: '-e',
  longFlag: '--env',
  type: ParameterType.REQUIRED,
  description: 'éƒ¨ç½²ç¯å¢ƒ',
  parameterRequired: true,
  parameterDataType: DataType.ENUM
})

// æ„å»ºå‘½ä»¤
const builder = new UniversalCommandBuilder(customCommand)
const command = builder
  .selectSubcommand('start')
  .selectOption('environment', 'production')
  .build()

console.log(command) // "deploy start --env production"
```

## âœ¨ ç³»ç»Ÿä¼˜åŠ¿

### 1. ç±»å‹å®‰å…¨
- ä¸¥æ ¼çš„å‚æ•°ç±»å‹æ£€æŸ¥
- æ•°æ®ç±»å‹éªŒè¯
- æšä¸¾å€¼çº¦æŸ
- ç¼–è¯‘æ—¶é”™è¯¯æ£€æµ‹

### 2. çµæ´»é…ç½®
- ä¸‰ç§å‚æ•°ç±»å‹ï¼šå¿…é€‰ã€å¯é€‰ã€ç¦ç”¨
- æ¡ä»¶è§„åˆ™æ”¯æŒ
- åŠ¨æ€é€‰é¡¹ç»„åˆ
- è‡ªå®šä¹‰éªŒè¯è§„åˆ™

### 3. æ™ºèƒ½æ„å»º
- è‡ªåŠ¨å‚æ•°é¡ºåº
- æ™ºèƒ½å¼•å·å¤„ç†
- å¹³å°å…¼å®¹æ€§
- å‘½ä»¤ä¼˜åŒ–å»ºè®®

### 4. éªŒè¯æœºåˆ¶
- è¯­æ³•éªŒè¯
- è¯­ä¹‰æ£€æŸ¥
- å†²çªæ£€æµ‹
- ä¾èµ–éªŒè¯
- å®‰å…¨è¯„ä¼°

### 5. æ‰©å±•æ€§
- æ’ä»¶å¼éªŒè¯å™¨
- è‡ªå®šä¹‰æ•°æ®ç±»å‹
- æ ¼å¼åŒ–æ¨¡æ¿
- å¹³å°ç‰¹å®šè§„åˆ™
- ç¬¬ä¸‰æ–¹é›†æˆ

## ğŸš€ æœªæ¥å‘å±•

### 1. æ™ºèƒ½åŒ–åŠŸèƒ½
- AI è¾…åŠ©å‘½ä»¤ç”Ÿæˆ
- æ™ºèƒ½å‚æ•°æ¨è
- è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ
- æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 2. ç”Ÿæ€ç³»ç»Ÿ
- å‘½ä»¤æ¨¡æ¿å¸‚åœº
- ç¤¾åŒºè´¡çŒ®æ¨¡æ¿
- æ’ä»¶å¼€å‘å·¥å…·åŒ…
- API é›†æˆæ”¯æŒ

### 3. ä¼ä¸šåŠŸèƒ½
- å›¢é˜Ÿåä½œ
- æƒé™ç®¡ç†
- å®¡è®¡æ—¥å¿—
- æ‰¹é‡æ“ä½œ

## ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

- **æ„å»ºé€Ÿåº¦**: < 100msï¼ˆå¤æ‚å‘½ä»¤ï¼‰
- **éªŒè¯æ—¶é—´**: < 50msï¼ˆå…¨é¢éªŒè¯ï¼‰
- **å†…å­˜å ç”¨**: ä¼˜åŒ–çš„æ•°æ®ç»“æ„ï¼Œæœ€å°åŒ–å†…å­˜ä½¿ç”¨
- **å“åº”æ€§**: 60fps çš„æµç•…ç”¨æˆ·ç•Œé¢
- **å…¼å®¹æ€§**: æ”¯æŒæ‰€æœ‰ä¸»æµæµè§ˆå™¨å’Œå¹³å°

## ğŸ‰ æ€»ç»“

è¿™ä¸ªå…¨æ–°çš„é€šç”¨å‘½ä»¤æ„å»ºç³»ç»Ÿä»£è¡¨äº†å‘½ä»¤æ‰‹å†Œé¡¹ç›®çš„é‡å¤§å‡çº§ï¼š

1. **å®Œå…¨é‡æ–°è®¾è®¡** - åŸºäºç°ä»£åŒ–çš„æ¶æ„å’Œè®¾è®¡æ¨¡å¼
2. **ä¸¥æ ¼æ‰§è¡Œè§„èŒƒ** - ä¸å‘åå…¼å®¹ï¼Œç¡®ä¿ç³»ç»Ÿä¸€è‡´æ€§
3. **å¼ºå¤§çš„åŠŸèƒ½** - æ”¯æŒæ‰€æœ‰ç±»å‹çš„å‘½ä»¤è¡Œå·¥å…·
4. **ä¼˜ç§€çš„ä½“éªŒ** - ç›´è§‚çš„ç•Œé¢å’Œæµç•…çš„äº¤äº’
5. **é«˜åº¦å¯æ‰©å±•** - æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºfutureæ‰©å±•

ç³»ç»Ÿç°åœ¨å·²ç»å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¤„ç†ä»ç®€å•çš„å•å‘½ä»¤åˆ°å¤æ‚çš„ç®¡é“å‘½ä»¤ç»„åˆï¼Œä¸ºç”¨æˆ·æä¾›ä¸“ä¸šçº§çš„å‘½ä»¤åˆ›å»ºå’Œç®¡ç†ä½“éªŒã€‚ 